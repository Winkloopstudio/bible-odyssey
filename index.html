<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>Believe 33 ‚Äì Faith-Based Games</title>
<style>
  :root{
    --bg:#f7e6c7;           /* parchment vibe */
    --panel:#fff7e7;
    --ink:#402d1f;
    --accent:#f59e0b;       /* orange header */
    --accent-dark:#d97706;
    --btn:#28c145;          /* glossy green */
    --btn-dark:#1e9b35;
    --danger:#ef4444;
    --danger-dark:#b91c1c;
    --blue:#2ea8ff;
    --muted:#b8a494;
    --lock:#9aa3af;
    --shadow:0 10px 18px rgba(0,0,0,.18);
    --round:22px;
  }

  @font-face {
  font-family: 'Baloo2';
  src: url('fonts/Baloo2-Regular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Baloo2';
  src: url('fonts/Baloo2-Bold.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
}


  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
  button{font:inherit}
  .hidden{display:none!important}
  .screen{position:fixed;inset:0;display:flex;flex-direction:column}
  .center{display:flex;align-items:center;justify-content:center}

  /* Splash */
  #splash{background:radial-gradient(1200px 600px at 50% -10%, #fff 0%, #fde9c9 55%, #f5d7a6 100%);}
  .logo{
    text-align:center;
    animation:pop .9s cubic-bezier(.2,1.2,.2,1);
  }
  .logo .mark{
    font-weight:900; font-size:56px; letter-spacing:.5px;
    display:inline-flex; align-items:center; gap:.5rem;
  }
  .logo .mark .badge{
    width:44px;height:44px;border-radius:12px;background:#111;color:#fff;
    display:inline-grid;place-items:center;font-weight:900
  }
.logo small {
  display: block;
  margin-top: 14px;
  font-size: 18px;                 /* a bit larger */
  font-weight: 700;                /* bold */
  color: #5a3520;                  /* deeper warm brown */
  text-shadow: 1px 1px 3px rgba(0,0,0,0.25); /* soft shadow */
  letter-spacing: 0.5px;           /* space out slightly */
}

.splash-sub {
  margin-top: 10px;
  font-size: 16px;
  font-weight: 600;
  color: #f59e0b;                  /* use your orange accent */
  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  animation: pulse 2s infinite;    /* make it animate */
}

@keyframes pulse {
  0%   { opacity: 1; transform: scale(1); }
  50%  { opacity: 0.7; transform: scale(1.05); }
  100% { opacity: 1; transform: scale(1); }
}


  .logo-img {
  width: 250px;   /* adjust size */
  height: auto;
  animation: pop .9s cubic-bezier(.2,1.2,.2,1);
}

  /* Header/Ticker */
  header{
    background:linear-gradient(180deg,var(--accent) 0%, var(--accent-dark) 100%);
    color:#fff; padding:.7rem .9rem; box-shadow:var(--shadow);
    display:flex; align-items:center; gap:.7rem; z-index:2;
  }

header strong {
  font-family: 'Baloo2', sans-serif;
  font-size: 24px;
  font-weight: bold;
  color: #fff;
  text-shadow: 1px 2px 3px rgba(0,0,0,0.35);
}

  header .gear{margin-left:auto;border:none;background:transparent;color:#fff;font-size:22px}
.ticker {
  flex: 1;
  overflow: hidden;
  white-space: nowrap;
  position: relative;
}
.ticker span {
  display: inline-block;
  font-family: 'Baloo2', sans-serif; /* or whatever font you choose */
  font-size: 16px;
  font-weight: 700;
  color: #fffde7;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.35);
  letter-spacing: 0.5px;

  white-space: nowrap;      /* prevents line breaks */
  will-change: transform;   /* smooth scrolling on GPU */
}


@keyframes scrollVerse {
  from { transform: translateX(100%); }
  to   { transform: translateX(-100%); }
}


  /* Content wrapper */
  main{flex:1; overflow:auto; position:relative}

  /* Bottom Nav (Number Crunch style) */
  nav.bottom{
    position:fixed; left:0; right:0; bottom:0; z-index:3;
    background:#c68652;  /* warm clay bar behind */
    padding:.5rem .6rem .9rem; 
  }
  .dock{
    background:#e9c6a1;border-radius:18px; display:grid; grid-template-columns:repeat(5,1fr);
    gap:.4rem; padding:.45rem; box-shadow:0 6px 10px rgba(0,0,0,.18) inset, var(--shadow);
  }
  .dock button{
    background:#fff6ea;border:none;border-radius:16px; padding:.5rem .2rem; 
    display:flex; flex-direction:column; align-items:center; gap:.25rem;
    color:#5a4330; font-weight:600;
  }
  .dock button.active{outline:3px solid #fff; box-shadow:0 0 0 2px #00000012 inset}
  .ico{width:22px;height:22px;display:inline-block}

  /* Home screen: story carousel */
  .pad{padding:12px 14px 88px}
  .section-title{font-weight:800; font-size:20px; margin:12px 2px}
  .carousel-wrap{position:relative}
  .strip{
    display:grid; grid-auto-flow:column; grid-auto-columns:72%;
    gap:14px; overflow-x:auto; scroll-snap-type:x mandatory; padding:8px 2px 14px;
  }
  .book{scroll-snap-align:center; background:var(--panel); border-radius:20px; position:relative; box-shadow:var(--shadow); overflow:hidden}
  .book .art {height: 160px;overflow: hidden;border-bottom: 3px solid #e5d4b3;}
.book .art img {display: block;width: 100%;height: 100%;object-fit: cover;}

  .book .cap{padding:10px 12px 12px}
  .tag{display:inline-flex; align-items:center; gap:.35rem; font-size:12px; background:#fff; padding:.25rem .5rem; border-radius:999px; box-shadow:0 2px 6px rgba(0,0,0,.12)}
  .lock{
    position:absolute; inset:0; background:linear-gradient(#00000022,#00000055);
    display:grid; place-items:center; color:#fff; font-weight:800; font-size:18px;
  }
  .lock .badge{background:#00000055; padding:.45rem .65rem; border-radius:12px}
  .pill{
    display:inline-block; margin-top:10px; padding:.6rem .9rem; border-radius:999px; border:none; color:#fff;
    font-weight:800; letter-spacing:.4px; background:linear-gradient(180deg,var(--btn) 0%, var(--btn-dark) 100%); box-shadow:0 6px 0 #167729, 0 10px 18px rgba(0,0,0,.25)
  }
  .pill:active{transform:translateY(1px); box-shadow:0 5px 0 #167729}

  /* Level select (card tiles) */
  .cards{display:grid; grid-template-columns:repeat(2,1fr); gap:12px}
  .level-card{
    background:#111; border-radius:16px; color:#fff; position:relative; overflow:hidden; box-shadow:var(--shadow);
  }
  .level-thumb{height:110px; background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=\"400\" height=\"200\"><defs><linearGradient id=\"g\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\"><stop offset=\"0\" stop-color=\"%23ffb703\"/><stop offset=\"1\" stop-color=\"%23fb5607\"/></linearGradient></defs><rect width=\"100%\" height=\"100%\" fill=\"url(%23g)\"/><g fill=\"white\" opacity=\"0.2\"><circle cx=\"60\" cy=\"40\" r=\"20\"/><circle cx=\"160\" cy=\"70\" r=\"26\"/><circle cx=\"300\" cy=\"50\" r=\"18\"/></g></svg>') center/cover no-repeat;}
  .level-foot{display:flex; justify-content:space-between; align-items:center; padding:.6rem .7rem; background:#1a1a1a}
  .level-badge{background:#facc15;color:#000; font-weight:900; padding:.2rem .5rem; border-radius:6px}
  .lock-card{position:absolute; inset:0; display:grid; place-items:center; background:#0008; color:#fff; font-weight:800}

  /* Game area */
  #game{position:fixed;inset:0; background:#e8f8ff; display:none; flex-direction:column}
  .game-top{display:flex; align-items:center; justify-content:space-between; padding:.6rem .7rem; background:#0ea5e9; color:#fff}
  .game-stage{flex:1; display:grid; place-items:center; padding:14px}
  .big-btn{background:#fff; border:none; padding:12px 14px; border-radius:14px; box-shadow:var(--shadow); font-weight:800}

  /* Pause menu (glossy like your ref) */
  .overlay{position:absolute; inset:0; display:none; background:#0006; align-items:center; justify-content:center}
  .pause{
    background:#fffbf0;border-radius:24px; width:min(92vw,420px);
    box-shadow:0 14px 28px rgba(0,0,0,.35); padding:16px 16px 22px; border:4px solid #e2c9a1;
  }
  .pause h3{
    margin:0 0 10px; text-align:center; color:#7a4f2a;
    background:#f0d3a9; border-radius:16px; padding:10px; font-size:22px; font-weight:900
  }
  .row{display:flex; gap:14px; justify-content:space-between; margin:8px 0 12px}
  .round{
    width:66px;height:66px;border-radius:999px; border:none; color:#fff; font-weight:900;
    box-shadow:0 6px 0 #126c25, 0 12px 18px rgba(0,0,0,.2);
    background:linear-gradient(180deg,var(--btn) 0%, var(--btn-dark) 100%);
  }
  .round.blue{background:linear-gradient(180deg,#59c0ff 0%, #2f8fe0 100%); box-shadow:0 6px 0 #1e63a9, 0 12px 18px rgba(0,0,0,.2)}
  .round.yellow{background:linear-gradient(180deg,#ffd84a 0%, #f1b501 100%); box-shadow:0 6px 0 #b88a02, 0 12px 18px rgba(0,0,0,.2); color:#3a2a00}
  .btn-wide{
    display:block; width:100%; border:none; border-radius:999px; margin:10px 0; padding:14px; color:#fff; font-weight:900; 
    background:linear-gradient(180deg,var(--btn) 0%, var(--btn-dark) 100%); box-shadow:0 8px 0 #167729, 0 12px 18px rgba(0,0,0,.2)
  }
  .btn-wide.red{background:linear-gradient(180deg,var(--danger) 0%, var(--danger-dark) 100%); box-shadow:0 8px 0 #7f1d1d}
  .x{position:absolute; top:-10px; right:-10px; background:#ff6b6b; border-radius:999px; border:4px solid #fff; width:34px; height:34px; color:#fff; font-weight:900}

  /* Utility */
  .ghost{opacity:.55}
  .top-pad{padding:8px 14px 0}
  @media (min-width:480px){ .strip{grid-auto-columns:50%} }

  /* Storybook */

.storybook {
  position: relative; /* NEW - makes children‚Äôs absolute positioning relative */
  display: flex;
  flex-direction: column;
  height: 100%;
  background: #fffbe8;
  padding: 12px;
}


.storybook-art {
  flex: 1.2;   /* slightly less space than before */
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 180px; /* always leave room below */
}

.storybook-art img {
  max-width: 90%;   /* not full screen width */
  max-height: 45vh; /* never taller than 45% of screen */
  border-radius: 12px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.25);
  object-fit: contain;
}

.storybook-text {
  flex: 0.8;
  overflow-y: auto;   /* allow scrolling if text too long */
  font-family: 'Baloo2', sans-serif;  /* playful, consistent across devices */
  font-size: 20px;                        /* slightly bigger for readability */
  font-weight: 700;                       /* bold but still friendly */
  line-height: 1.7;                       /* airy like a children‚Äôs book */
  color: #3a240f;                         /* warm dark brown, easier on eyes */
  text-align: center;                     /* centered text feels story-like */

  background: #fffdf5;                    /* parchment white */
  margin-top: 16px;
  padding: 22px 24px;                     /* more breathing space */
  border-radius: 18px;
  border: 3px solid #f7d58c;              /* golden accent border */
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);

  text-shadow: 1px 1px 2px rgba(0,0,0,0.08); /* soft storybook feel */
}


.storybook-nav {
  position: fixed;
  bottom: 90px; /* just above your dock height */
  left: 0;
  right: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: #fffbe8; /* match story background */
  z-index: 5;
}
  
#closeStory {
  position: absolute;
  top: 10%;
  right: 12px;
  width: 44px;
  height: 44px;
  border: none;
  border-radius: 50%;
  background: linear-gradient(145deg, #ff6b6b, #d93030); /* glossy red */
  color: #fff;
  font-size: 20px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(0,0,0,0.25), inset 0 -2px 4px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#closeStory:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 10px rgba(0,0,0,0.35), inset 0 -2px 4px rgba(0,0,0,0.4);
}

#closeStory:active {
  transform: scale(0.95);
  box-shadow: 0 3px 5px rgba(0,0,0,0.25) inset;
}



  
.hl-god { color: #d97706; font-weight: 700; }       /* warm gold */
.hl-jesus { color: #e11d48; font-weight: 700; }    /* bold red */
.hl-spirit { color: #0ea5e9; font-style: italic; } /* sky blue */
.hl-light { color: #facc15; font-weight: 700; }    /* yellow */
.hl-heaven { color: #3b82f6; font-weight: 600; }   /* blue */
.hl-earth { color: #16a34a; font-weight: 600; }    /* green */
.hl-love { color: #ec4899; font-weight: 700; }     /* pink */
.hl-faith { color: #9333ea; font-weight: 700; }    /* purple */
.hl-pray { text-decoration: underline; }
.hl-forgive { color: #22c55e; font-weight: 700; }
.hl-sin { color: #6b7280; font-style: italic; }
.hl-person { color: #f97316; font-weight: 600; }
.hl-object { color: #475569; font-weight: 600; }
.hl-enemy { color: #dc2626; font-weight: 700; }
.hl-water { color: #004c6e; font-weight: 600; }
.hl-promise { color: #10b981; font-weight: 700; }
.hl-dark { color: #1f2937; font-weight: 700; } 
.hl-sky { color: #0ea5e9; font-weight: 600; }  
  /* Page flip animations */
.page-enter {
  opacity: 0;
  transform: rotateY(90deg) scale(0.95);
}
.page-enter-active {
  opacity: 1;
  transform: rotateY(0deg) scale(1);
  transition: all 0.6s ease;
}
.page-exit {
  opacity: 1;
  transform: rotateY(0deg) scale(1);
}
.page-exit-active {
  opacity: 0;
  transform: rotateY(-90deg) scale(0.95);
  transition: all 0.6s ease;
}

  
.nav-btn {
  background: #28c145;
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 10px 18px;
  font-weight: 700;
  box-shadow: 0 4px 0 #167729;
}
.nav-btn:disabled { opacity: 0.4; }

.dots {
  display: flex;
  gap: 6px;
}
.dots span {
  width: 10px;
  height: 10px;
  background: #ccc;
  border-radius: 50%;
  display: inline-block;
}
.dots span.active { background: #28c145; }

  #videoOverlay {
  position: fixed;
  inset: 0;
  background: #000;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
  flex-direction: column;
}
#videoOverlay video {
  max-width: 95%;
  max-height: 80%;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.4);
}
#skipVideo {
  margin-top: 12px;
  padding: 10px 20px;
  background: #28c145;
  border: none;
  border-radius: 999px;
  color: #fff;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
}

.replay-ribbon {
  position: absolute;
  top: 40%;
  right: 0;
  transform: translateY(-50%);
  writing-mode: vertical-rl;   /* vertical text */
  text-orientation: mixed;
  padding: 10px 4px;
  background: linear-gradient(145deg, #2ea8ff, #1c6fa5);
  color: #fff;
  font-weight: 700;
  font-size: 14px;
  border: none;
  border-radius: 8px 0 0 8px;   /* rounded left edge */
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  transition: all 0.2s ease;
  z-index: 30;
}

.replay-ribbon:hover {
  background: linear-gradient(145deg, #3bb2ff, #2070b0);
  transform: translateY(-50%) scale(1.05);
}

.nav-btn.small {
  padding: 6px 12px;
  font-size: 14px;
  background: #2ea8ff;
  box-shadow: 0 4px 0 #1c6fa5;
}
  .close-ribbon {
  position: absolute;
  top: 25%;         /* a little above replay */
  right: 0;
  transform: translateY(-50%);
  writing-mode: vertical-rl;
  text-orientation: mixed;
  padding: 8px 5px;
  background: linear-gradient(145deg, #ef4444, #b91c1c); /* red ribbon */
  color: #fff;
  font-weight: 700;
  font-size: 13px;
  border: none;
  border-radius: 8px 0 0 8px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  transition: all 0.2s ease;
  z-index: 30;
}

.close-ribbon:hover {
  background: linear-gradient(145deg, #f87171, #dc2626);
  transform: translateY(-50%) scale(1.05);
}

  #infoPanel {
  position: fixed;
  inset: 0;
  background: #fffbe8;
  z-index: 200;
  display: flex;
  flex-direction: column;
}
.info-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(180deg, var(--accent), var(--accent-dark));
  color: #fff;
  padding: 12px 16px;
  box-shadow: var(--shadow);
}
.info-header h2 {
  margin: 0;
  font-size: 20px;
}
#closeInfo {
  background: none;
  border: none;
  font-size: 22px;
  color: #fff;
  cursor: pointer;
}
.info-content {
  flex: 1;
  padding: 16px;
  overflow-y: auto;
  font-size: 16px;
  line-height: 1.6;
}

#openInfo {
  border: none;
  background: transparent;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  position: relative;
  z-index: 10; /* sit above ticker */
  transition: transform 0.2s ease, color 0.2s ease, text-shadow 0.2s ease;
}

#openInfo:hover {
  transform: scale(1.2);
  color: #fffae6; /* slightly warmer white */
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.7);
}


.accordion {
  border-bottom: 1px solid #ddd;
}

.accordion-header {
  width: 100%;
  text-align: left;
  padding: 12px;
  font-weight: 700;
  font-size: 16px;
  background: #f5d7a6;
  border: none;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.accordion-header:hover {
  background: ##cdcdcd;
}

.accordion-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
  background: #fffbe8;
  padding: 0 12px;
}

.accordion-body.open {
  padding: 12px;
  max-height: 1000px; /* big enough to fit long text */
}




  
</style>
</head>
<body>

<!-- SPLASH -->
<section id="splash" class="screen center">
  <div class="logo">
 <img src="images/logo.png" alt="Bible Odyssey Logo" class="logo-img" />
    <small>Faith-Based Games</small>
    <div class="splash-sub">Loading goodness‚Ä¶</div>
  </div>
</section>

<!-- APP SHELL -->
<section id="app" class="screen hidden">
  <header>
    <strong>Bible Odyssey</strong>
    <div class="ticker"><span id="verseTicker"></span></div>
   <button id="openInfo">‚ÑπÔ∏è</button>

  </header>

  <main id="viewContainer">
    <!-- HOME / STORIES -->
    <div id="homeView" class="pad">
      <div class="section-title">Select a Story</div>

      <div class="carousel-wrap">
        <div id="storyStrip" class="strip"></div>
      </div>

      <div class="top-pad">
        <h4 class="section-title">Levels in this Story</h4>
        <div id="levelGrid" class="cards"></div>
      </div>
    </div>

    <!-- Story Video VIEW -->
    <div id="videoOverlay" class="hidden">
  <video id="storyVideo" controls playsinline></video>
  <button id="skipVideo">Skip ‚ñ∂</button>
</div>

<!-- STORYBOOK VIEW -->
<section id="storybookView" class="hidden screen">
  <div class="storybook">

    <button id="closeRibbon" class="close-ribbon">
  ‚úï Close
</button>
<button id="replayRibbon" class="replay-ribbon hidden">
  ‚ü≥ Replay üé¨
</button>
    <div class="storybook-art">
      <img id="storyArt" src="" alt="Story illustration">
    </div>
    <div class="storybook-text" id="storyText"></div>



    <div class="storybook-nav">
      <button id="prevPage" class="nav-btn">‚¨Ö Back</button>
      <div id="pageDots" class="dots"></div>
          
      <button id="nextPage" class="nav-btn">Next ‚û°</button>
    </div>
  </div>
</section>


  </div>
</section>

    <!-- GAME -->
    <section id="game">
      <div class="game-top">
        <div><strong id="hudTitle">Creation</strong></div>
        <div>
          <button id="pauseBtn" class="big-btn">‚è∏ Pause</button>
        </div>
      </div>
      <div class="game-stage">
        <!-- Mini-game placeholder -->
        <button id="finishLevel" class="big-btn">Complete Level</button>
      </div>

      <!-- Pause Overlay -->
      <div id="pauseOverlay" class="overlay">
        <div class="pause">
          <button class="x" id="closePause">‚úï</button>
          <h3>Settings</h3>
          <div class="row">
            <button class="round" id="toggleSfx">üîä</button>
            <button class="round" id="toggleBgm">üéµ</button>
            <button class="round yellow" id="helpBtn">?</button>
            <button class="round blue" id="goHome">üè†</button>
          </div>
          <button class="btn-wide" id="themesBtn">Themes</button>
          <button class="btn-wide" id="friendsBtn">Ask Friends</button>
          <button class="btn-wide red" id="quitBtn">Quit</button>
        </div>
      </div>
    </section>
  </main>

  <!-- INFO PANEL -->
<!-- INFO PANEL -->
<!-- INFO PANEL -->
<div id="infoPanel" class="hidden">
  <div class="info-header">
    <h2>Information</h2>
    <button id="closeInfo">‚úï</button>
  </div>

  <div class="info-content">
    <div class="accordion">
      <button class="accordion-header">‚ÑπÔ∏è Welcome ‚ñº</button>
      <div class="accordion-body">
        <p>Welcome to Bible Odyssey ‚Äì a fun, faith-based way for kids to explore the Bible.</p>
      </div>
    </div>

    <div class="accordion">
      <button class="accordion-header">üéØ Our Mission ‚ñº</button>
      <div class="accordion-body">
            <h2>Our Mission</h2>
    <p><strong>Believe 33</strong> exists to spread the Gospel through creativity, joy, and interactive stories. We design games that are safe for families, welcoming for new Christians, and meaningful for seasoned believers.</p>
    <p>The number <strong>33</strong> reminds us of Jesus‚Äô earthly ministry and the hope we have because of His sacrifice and resurrection.</p>
    <h3>What We Value</h3>
    <ul class="checklist">
      <li>Faith first ‚Äî Christ at the center</li>
      <li>Family-friendly design</li>
      <li>Quality and craft</li>
      <li>Kindness, patience, and integrity</li>
    </ul>
    <p>Our mission is simple ‚Äî to <span class="highlight">glorify God through games</span> that teach, encourage, and inspire. We believe play can be purposeful, weaving Scripture into joyful experiences for families, kids, and new believers.</p>
      </div>
    </div>

    <div class="accordion">
      <button class="accordion-header">üë®‚Äçüë©‚Äçüëß For Parents ‚ñº</button>
      <div class="accordion-body">
        <p>This app is designed for safe, guided exploration. We encourage parents to read and play together with their children!</p>
      </div>
    </div>

    <div class="accordion">
      <button class="accordion-header">‚öôÔ∏è Settings ‚ñº</button>
      <div class="accordion-body">
        <button id="toggleSound">üîä Toggle Sound</button>
        <button id="resetProgress">‚ôª Reset Progress</button>
      </div>
    </div>

    <div class="accordion">
      <button class="accordion-header">üìú Terms of Use ‚ñº</button>
      <div class="accordion-body">
        <p>Welcome to Bible Odyssey! By using this app, you agree to the following terms:</p>
        <ul>
          <li>This app is provided for personal, non-commercial use only.</li>
          <li>All artwork, stories, and game content are the property of Believe 33.</li>
          <li>Please use it responsibly and only on devices you own or control.</li>
          <li>We are not responsible for damages or loss caused by use of the app.</li>
          <li>These terms may be updated from time to time.</li>
        </ul>
      </div>
    </div>

    <div class="accordion">
      <button class="accordion-header">üîí Privacy Policy ‚ñº</button>
      <div class="accordion-body">
        <p>Your privacy is important to us. Here‚Äôs how Bible Odyssey handles your data:</p>
        <ul>
          <li>We do not collect personal information from children or users of this app.</li>
          <li>Game progress is saved locally on your device, never sent to servers.</li>
          <li>No data is sold, shared, or rented to third parties.</li>
          <li>This app complies with child privacy laws (COPPA in the US).</li>
          <li>Parents are encouraged to supervise gameplay and teach safe digital habits.</li>
        </ul>
      </div>
    </div>


  <!-- (other accordions from earlier here: Welcome, Mission, Parents, Settings, Terms, Privacy) -->

  <div class="accordion">
    <button class="accordion-header">‚úâÔ∏è Contact Us ‚ñº</button>
    <div class="accordion-body">
      <p>If you have questions, feedback, or suggestions about Bible Odyssey, please reach out:</p>
      <ul>
        <li>Email: <a href="mailto:joshua@believe33.org">joshua@believe33.org</a></li>
        <li>Website: <a href="https://www.believe33.org" target="_blank">www.believe33.org</a></li>
      </ul>
      <p>We value your input and will respond as quickly as possible.</p>
    </div>
  </div>

 <footer style="margin-top:20px; font-size:13px; text-align:center; color:#555;">
  ¬©2025 Believe 33 <br>
  Version 1.0.0 | Build 1001 <br>
  <img src="images/believe33-logo.png" alt="Believe 33 Logo" 
       style="margin-top:10px; width:120px; height:auto;">
</footer>

  </div>
</div>








  <!-- BOTTOM NAV -->
  <nav class="bottom hidden">
    <div class="dock">
      <button class="active" data-nav="home"><span class="ico">üè†</span><span>Home</span></button>
      <button data-nav="stories"><span class="ico">üìö</span><span>Stories</span></button>
      <button data-nav="ach"><span class="ico">‚≠ê</span><span>Stars</span></button>
      <button data-nav="profile"><span class="ico">üë§</span><span>Profile</span></button>
      <button data-nav="shop"><span class="ico">üè¨</span><span>Store</span></button>
    </div>
  </nav>
</section>

<script>
/* ----------------- Data ----------------- */
const VERSES = [
  "Psalm 139:14 ‚Äî I am wonderfully made!",
  "Philippians 4:4 ‚Äî Rejoice in the Lord always!",
  "Joshua 1:9 ‚Äî Be strong and brave!",
  "Psalm 118:24 ‚Äî This is the day the Lord has made; let us be glad!",
  "Matthew 19:14 ‚Äî Let the children come to me."
];


const STORIES = [
  { id:"creation", name:"Creation", ref:"Genesis 1‚Äì2", art:"images/creation.png", levels:3,  video:"videos/creation.mp4" },
  { id:"noah", name:"Noah‚Äôs Ark", ref:"Genesis 6‚Äì9", art:"images/noah.png", levels:3,  video:"videos/noah.mp4" },
  { id:"david", name:"David & Goliath", ref:"1 Samuel 17", art:"images/david.png", levels:3,  video:"videos/david.mp4" },
  { id:"daniel", name:"Daniel & Lions", ref:"Daniel 6", art:"images/daniel.png", levels:3 },
  { id:"jonah", name:"Jonah & Fish", ref:"Jonah 1‚Äì2", art:"images/jonah.png", levels:3 },
  { id:"nativity", name:"Birth of Jesus", ref:"Luke 2", art:"images/nativity.png", levels:3 },
  { id:"miracles", name:"Jesus‚Äô Miracles", ref:"Gospels", art:"images/miracles.png", levels:3 },
  { id:"samaritan", name:"Good Samaritan", ref:"Luke 10", art:"images/samaritan.png", levels:3 },
  { id:"easter", name:"Easter Story", ref:"Luke 23‚Äì24", art:"images/easter.png", levels:3 }
];


/* -------------- State / Progress -------------- */
const KEY = "b33_kids_progress_v1";
const progress = JSON.parse(localStorage.getItem(KEY) || "{}");
/* progress format: { storyId: { clearedLevels: n } } */

/* -------------- Utilities -------------- */
const $ = sel => document.querySelector(sel);
const $$ = sel => Array.from(document.querySelectorAll(sel));
const save = () => localStorage.setItem(KEY, JSON.stringify(progress));

/* -------------- Splash -> App -------------- */
setTimeout(()=>{ 
  $("#splash").classList.add("hidden");
  $("#app").classList.remove("hidden");
  document.querySelector("nav.bottom").classList.remove("hidden"); 
}, 2000);


/* -------------- Ticker -------------- */
let vi = 0;
const tickerSpan = document.querySelector(".ticker span");

function showVerse() {
  tickerSpan.innerText = VERSES[vi % VERSES.length];
  vi++;

  // Reset any old animation
  tickerSpan.style.transition = "none";
  tickerSpan.style.transform = "translateX(100%)";

  // Force browser to reflow so transition restarts clean
  void tickerSpan.offsetWidth;

  // Calculate scroll distance
  const distance = tickerSpan.offsetWidth + tickerSpan.parentElement.offsetWidth;
  const duration = distance / 50; // speed = 25px/s (adjust as needed)

  // Animate leftwards
  tickerSpan.style.transition = `transform ${duration}s linear`;
  tickerSpan.style.transform = `translateX(-${tickerSpan.offsetWidth}px)`;

  // When done, schedule next verse
  setTimeout(showVerse, duration * 1000 + 1000); // +1s pause
}

showVerse();


/* -------------- Story Carousel Render -------------- */
let activeStory = STORIES[0].id;
function storyUnlocked(idx){
  if(idx===0) return true;
  const prev = STORIES[idx-1];
  const p = progress[prev.id]?.clearedLevels || 0;
  return p >= prev.levels; // finish previous story to unlock next
}
function renderStories(){
  const wrap = $("#storyStrip");
  wrap.innerHTML = "";
  STORIES.forEach((s, i)=>{
    const unlocked = storyUnlocked(i);
    const p = progress[s.id]?.clearedLevels || 0;

    const card = document.createElement("article");
    card.className = "book";
   card.innerHTML = `
  <div class="art">
    <img src="${s.art}" alt="${s.name}" style="width:100%;height:100%;object-fit:cover;">
  </div>
  <div class="cap">
    <div class="tag">üìñ ${s.name}</div>
    <div style="font-size:12px;color:#765">${s.ref}</div>
    <button class="pill" ${!unlocked?"disabled":""} data-open="${s.id}">
      ${unlocked? (p>=s.levels? "Replay":"Open Book") : "Locked"}
    </button>
  </div>
  ${!unlocked? `<div class="lock"><div class="badge">üîí Finish prior story</div></div>`:""}
`;

    wrap.appendChild(card);
  });
}
renderStories();

/* -------------- Level Grid Render -------------- */
let currentStoryIdx = 0;
function openStoryById(id){
  const idx = STORIES.findIndex(s=>s.id===id);
  if(idx<0) return;
  currentStoryIdx = idx;
  activeStory = id;
  const s = STORIES[idx];
  $(".section-title").textContent = `Select Level ‚Äì ${s.name}`;
  renderLevels();
  document.querySelectorAll('.pill').forEach(b=>{
    if(b.dataset.open===id) b.textContent = "Open Book";
  });
}
function levelUnlocked(storyIdx, levelNum){
  if(!storyUnlocked(storyIdx)) return false;
  const s = STORIES[storyIdx];
  const cleared = progress[s.id]?.clearedLevels || 0;
  return levelNum <= cleared + 1;
}
function renderLevels(){
  const grid = $("#levelGrid");
  const s = STORIES[currentStoryIdx];
  const cleared = progress[s.id]?.clearedLevels || 0;
  grid.innerHTML = "";
  for(let i=1;i<=s.levels;i++){
    const card = document.createElement("div");
    card.className = "level-card";
    card.innerHTML = `
      <div class="level-thumb" style="background:url('${s.art}') center/cover no-repeat;"></div>
      <div class="level-foot">
        <span class="level-badge">LEVEL ${String(i).padStart(2,"0")}</span>
        <button class="big-btn playBtn" data-lvl="${i}">Play ‚ñ∂</button>
      </div>
      ${!levelUnlocked(currentStoryIdx,i)? `<div class="lock-card">üîí Clear Level ${String(i-1).padStart(2,"0")} first</div>`:""}
    `;
    grid.appendChild(card);
  }
}
openStoryById(activeStory);

/* -------------- Events: open story from pill -------------- */
document.addEventListener("click", (e)=>{
  const t = e.target;

  // open story
if(t.matches("[data-open]")){
  const id = t.getAttribute("data-open");
  const idx = STORIES.findIndex(s=>s.id===id);
  if(storyUnlocked(idx)) {
    openStorybook(id); // open storybook first
  }
}


  // play level
  if(t.classList.contains("playBtn")){
    const lvl = Number(t.dataset.lvl);
    if(!levelUnlocked(currentStoryIdx,lvl)) return;
    startGame(lvl);
  }

  // bottom nav (visual only in this prototype)
 // bottom nav
if (t.closest(".dock button")) {
  $$(".dock button").forEach(b => b.classList.remove("active"));
  t.closest(".dock button").classList.add("active");

  if (t.closest("[data-nav='home'],[data-nav='stories']")) {
    // Always return to home if inside story
    $("#storybookView").classList.add("hidden");
    $("#game").style.display = "none";
    $("#homeView").classList.remove("hidden");
    $("#homeView").scrollIntoView({ behavior: "smooth" });
  }
}

});

/* ----------------- Storybook Logic ----------------- */
let storyPages = [];
let currentPage = 0;

function openStorybook(storyId) {
  activeStory = storyId;
  currentStoryIdx = STORIES.findIndex(st => st.id === storyId);
  const s = STORIES[currentStoryIdx];
  if (!s) return;

  // Check for intro video
  if (s.video && !progress[s.id]?.videoPlayed) {
    playStoryVideo(s.video, () => {
      progress[s.id] = { ...progress[s.id], videoPlayed: true };
      save();
      showStoryPages(storyId);
    });
  } else {
    showStoryPages(storyId);
  }
}

// üëâ Move your page logic into its own helper
function showStoryPages(storyId) {
  const s = STORIES[currentStoryIdx];

if (s.video) {
  $("#replayRibbon").classList.remove("hidden");
} else {
  $("#replayRibbon").classList.add("hidden");
}

  if (storyId === "creation") {
    storyPages = [
      { text: "In the beginning, God created the heavens and the earth.", art: "images/creation1.png" },
      { text: "Day 1 ‚Äî God said, 'Let there be light!' And there was light. He called the light 'Day' and the darkness 'Night.'", art: "images/creation2.png" },
      { text: "Day 2 ‚Äî God made the sky above and the waters below.", art: "images/creation3.png" },
      { text: "Day 3 ‚Äî God gathered the waters to make seas, and dry land appeared. Plants and trees grew.", art: "images/creation4.png" },
      { text: "Day 4 ‚Äî God made the sun to shine by day, and the moon and stars to shine at night.", art: "images/creation5.png" },
      { text: "Day 5 ‚Äî God filled the sky with birds and the sea with fish.", art: "images/creation6.png" },
      { text: "Day 6 ‚Äî God made the animals on the land. Then God made Adam and Eve.", art: "images/creation7.png" },
      { text: "Day 7 ‚Äî God rested. He blessed this day as special.", art: "images/creation8.png" }
    ];
  } else if (storyId === "noah") {
    storyPages = [
      { text: "God saw the world was full of sin, but Noah found favor with God.", art: "images/noah1.png" },
      { text: "God told Noah to build a great Ark to save his family and the animals.", art: "images/noah2.png" },
      { text: "Noah and his sons worked hard, building the Ark just as God commanded.", art: "images/noah3.png" },
      { text: "Two of every kind of animal came to the Ark ‚Äî lions, elephants, birds, and more!", art: "images/noah4.png" },
      { text: "Rain poured for 40 days and 40 nights. The whole earth was covered with water.", art: "images/noah5.png" },
      { text: "The Ark floated safely on the waters, carrying Noah, his family, and the animals.", art: "images/noah6.png" },
      { text: "At last, the rain stopped, and the Ark rested on the mountains of Ararat.", art: "images/noah7.png" },
      { text: "God placed a rainbow in the sky as a promise never to flood the whole earth again.", art: "images/noah8.png" }
    ];
  } else {
    storyPages = [{ text: s.name, art: s.art }];
  }

  currentPage = 0;
  renderStoryPage();
  $("#homeView").classList.add("hidden");
  $("#storybookView").classList.remove("hidden");
}


function renderStoryPage() {
  const storyArt = $("#storyArt");
  const storyText = $("#storyText");

  // Exit animation
  storyArt.classList.add("page-exit-active");
  storyText.classList.add("page-exit-active");

  setTimeout(() => {
    // Update content
    const page = storyPages[currentPage];
    storyArt.src = page.art;
    storyText.innerHTML = highlightText(page.text, activeStory);


    // Reset and add enter animations (while keeping base style!)
    storyArt.className = "page-enter-active";
    storyText.className = "storybook-text page-enter-active";

    // Cleanup after animation
    setTimeout(() => {
      storyArt.className = "";
      storyText.className = "storybook-text"; // keep base style
    }, 600);

    // --- Dots ---
    const dots = $("#pageDots");
    dots.innerHTML = "";
    storyPages.forEach((_, i) => {
      const dot = document.createElement("span");
      if (i === currentPage) dot.classList.add("active");
      dots.appendChild(dot);
    });

    // --- Buttons ---
    $("#prevPage").disabled = currentPage === 0;
    $("#nextPage").textContent =
      currentPage === storyPages.length - 1 ? "Play ‚ñ∂" : "Next ‚û°";
  }, 200);
}


// Buttons
$("#prevPage").addEventListener("click", () => {
  if (currentPage > 0) {
    currentPage--;
    renderStoryPage();
  }
});
$("#nextPage").addEventListener("click", () => {
  if (currentPage < storyPages.length - 1) {
    currentPage++;
    renderStoryPage();
  } else {
    // Launch mini-game after last page
    $("#storybookView").classList.add("hidden");
    startGame(1); // Example: start level 1
  }
});

// Close story handler
$("#closeRibbon").addEventListener("click", () => {
  $("#storybookView").classList.add("hidden");
  $("#homeView").classList.remove("hidden");
});


 // Replay video button handler
$("#replayRibbon").addEventListener("click", () => {
  const s = STORIES[currentStoryIdx];
  if (s.video) {
    playStoryVideo(s.video, () => {
      // don‚Äôt overwrite progress, just return to pages
      showStoryPages(s.id);
    });
  }
});

 
/* -------------- Game Flow (placeholder mini-game) -------------- */
let currentLevel = 1;
function startGame(level){
  currentLevel = level;
  $("#hudTitle").textContent = `${STORIES[currentStoryIdx].name} ‚Äî Level ${String(level).padStart(2,"0")}`;
  $("#game").style.display = "flex";
  document.body.style.overflow = "hidden";
}
function endGameAndRecord(){
  // mark cleared
  const s = STORIES[currentStoryIdx];
  const cleared = progress[s.id]?.clearedLevels || 0;
  progress[s.id] = { clearedLevels: Math.max(cleared, currentLevel) };
  save();
  // return to home
  $("#game").style.display = "none";
  document.body.style.overflow = "";
  renderStories();
  renderLevels();
}

/* Demo: Complete level button */
$("#finishLevel").addEventListener("click", endGameAndRecord);

/* Pause overlay */
const showPause = (v)=> $("#pauseOverlay").style.display = v?"flex":"none";
$("#pauseBtn").addEventListener("click", ()=> showPause(true));
$("#closePause").addEventListener("click", ()=> showPause(false));
$("#goHome").addEventListener("click", ()=>{
  showPause(false);
  $("#game").style.display="none";
  document.body.style.overflow="";
});
$("#quitBtn").addEventListener("click", ()=>{
  showPause(false);
  $("#game").style.display="none";
  document.body.style.overflow="";
});

/* Settings gear simply opens pause for this prototype */
$("#openInfo").addEventListener("click", ()=> showPause(true));

/* -------------- Keyboard helpers for quick testing -------------- */
document.addEventListener("keydown", (e)=>{
  if(e.key==="Escape"){ showPause(true); }
});

/* attach handlers to dynamic items */
document.addEventListener("click",(e)=>{
  if(e.target.id==="toggleSfx"){ e.target.classList.toggle("ghost"); }
  if(e.target.id==="toggleBgm"){ e.target.classList.toggle("ghost"); }
  if(e.target.id==="helpBtn"){ alert("Help: finish each story‚Äôs levels to unlock the next book."); }
});

  // Global keywords across all stories
const HIGHLIGHTS_GLOBAL = {
  "God": "hl-god",
  "Lord": "hl-god",
  "Jesus": "hl-jesus",
  "Christ": "hl-jesus",
  "Holy Spirit": "hl-spirit",
  "Light": "hl-light",
  "Heaven": "hl-heaven",
  "Earth": "hl-earth",
  "Love": "hl-love",
  "Faith": "hl-faith",
  "Pray": "hl-pray",
  "Forgive": "hl-forgive",
  "Sin": "hl-sin"
};

// Story-specific keywords
const HIGHLIGHTS_STORY = {
  "creation": {
    "Adam": "hl-person",
    "Eve": "hl-person",
    "Day": "hl-light",
    "Night": "hl-dark",
 "waters": "hl-water",
"sky": "hl-sky"
  },
"noah": {
  "Noah": "hl-person",
  "Ark": "hl-object",
  "Flood": "hl-water",
  "Rainbow": "hl-promise",
  "Animal": "hl-person"
},
  "david": {
    "David": "hl-person",
    "Goliath": "hl-enemy",
    "Stone": "hl-object"
  },
  // ...add more per story
};

  function highlightText(text, storyId) {
  let highlighted = text;

  // Apply global highlights
  for (const [word, cls] of Object.entries(HIGHLIGHTS_GLOBAL)) {
    const regex = new RegExp(`\\b${word}\\b`, "gi");
    highlighted = highlighted.replace(regex, `<span class="${cls}">${word}</span>`);
  }

  // Apply story-specific highlights
  if (HIGHLIGHTS_STORY[storyId]) {
    for (const [word, cls] of Object.entries(HIGHLIGHTS_STORY[storyId])) {
      const regex = new RegExp(`\\b${word}\\b`, "gi");
      highlighted = highlighted.replace(regex, `<span class="${cls}">${word}</span>`);
    }
  }

  return highlighted;
}

    // video handling
  function playStoryVideo(src, onFinish) {
  const overlay = $("#videoOverlay");
  const video = $("#storyVideo");

  overlay.classList.remove("hidden");
  video.src = src;
  video.play();

  // When finished, close and run callback
  video.onended = () => {
    overlay.classList.add("hidden");
    onFinish();
  };

  // Skip button
  $("#skipVideo").onclick = () => {
    video.pause();
    overlay.classList.add("hidden");
    onFinish();
  };
}

// Open info panel
document.querySelector("#openInfo").addEventListener("click", () => {
  document.querySelector("#infoPanel").classList.remove("hidden");
});

// Close info panel
document.querySelector("#closeInfo").addEventListener("click", () => {
  document.querySelector("#infoPanel").classList.add("hidden");
});



// Accordion toggle logic
$$(".accordion-header").forEach(header => {
  header.addEventListener("click", () => {
    const body = header.nextElementSibling;

    // Toggle body open/close
    body.classList.toggle("open");

    // Update arrow icon at the end of header text
    if (body.classList.contains("open")) {
      header.innerHTML = header.innerHTML.replace("‚ñº", "‚ñ≤");
    } else {
      header.innerHTML = header.innerHTML.replace("‚ñ≤", "‚ñº");
    }
  });
});


</script>
</body>
</html>
